sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
proj$lat
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
proj
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coordinates(proj)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
head(coordinates(sp_cent))
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coordinates(sp_cent)$x
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coordinates(sp_cent)
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
#plot(subzone)
View(coords)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords$coords
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords$y
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(t(coords))
coords$y
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(t(coords))
coords
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(t(coords))
coords$`296`
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords[y]
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords["y"]
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords['x']
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords[296]
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords['296']
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords['x']
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
~x,y <- coordinates(sp_cent)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
x,y <- coordinates(sp_cent)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
class(coords)
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
class(coords)
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords$Var2[Freq]
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords$Var2
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords$Freq[coords$Var1 == x]
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords$Freq[coords$Var1 == 'x']
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords$Freq[coords$Var2 == x]
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- coordinates(sp_cent)
coords <- as.data.frame(as.table(coords))
coords$Freq[coords$Var2 == "x"]
#plot(subzone)
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
View(mpsz_HDB)
View(HDB)
View(mpsz_clinics)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj <- proj4string(sp_cent)
coords <- points(sp_cent)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- SpatialPointsDataFrame(gCentroid(p, byid = TRUE))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
sp_cent
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4String(sp_cent)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
class(string)
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match("+lat_0=",string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match('+lat_0=',string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match("+lat_0=", string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match("+proj", string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match(c("+proj"), string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
sp_cent <- project(sp_cent, proj4string(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match(c(8), string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "NORTHLAND",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match(c(8), string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
string <- proj4string(sp_cent)
string
match(c(8), string)
substr(string, match("+lat_0=",string)+7, match("+lon_0="))
View(mpsz)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
spts <- rasterToPoints(subzone, spatial = TRUE)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
llpts <- spTransform(subzone, CRS(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
llpts <- spTransform(mpsz, CRS(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
llpts <- spTransform(subzone@data, CRS(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
llpts <- spTransform(subzone, CRS(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
sp_cent
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
class(subzone)
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- spTransform(subzone, CRS = crs(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- spTransform(subzone, crs = crs(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- spTransform(as.vector(t(subzone)), crs = crs(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- spTransform(subzone, crs = crs(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- st_transform(subzone, crs = crs(sp_cent))
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
crs(sp_cent)
sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
sp_cent
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
#crs(sp_cent)
sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
sp_cent
#plot(subzone)
View(sp_cent)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
#crs(sp_cent)
# sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
#
# sp_cent
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
#crs(sp_cent)
# sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
#
sp_cent
#plot(subzone)
mpsz1 <- readOGR(dsn = "data", layer = "MP14_SUBZONE_WEB_PL")
mpsz1
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
#crs(sp_cent)
# sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
#
sp_cent
#plot(subzone)
View(mpsz1)
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
xy <- data.frame(sp_cent)
xy
# sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
#
sp_cent
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
proj4string
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string, inverse=TRUE)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
proj4string
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
proj4string
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string, inverse=TRUE)
packages = c('rgdal', 'maptools', 'raster','spatstat', 'tmap', 'sf', 'tidyverse', 'SpatialAcc', 'tbart', 'cclust', 'rgeos', library(proj4))
packages = c('rgdal', 'maptools', 'raster','spatstat', 'tmap', 'sf', 'tidyverse', 'SpatialAcc', 'tbart', 'cclust', 'rgeos', 'proj4')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p) }
library(p,character.only = T) }
mpsz = st_read(dsn = "data", layer = "MP14_SUBZONE_WEB_PL")
mpsz <- mpsz[order(mpsz$SUBZONE_N),]
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
proj4string
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string, inverse=TRUE)
xy
# sp_cent <- st_transform(subzone, crs = st_crs(sp_cent))
#
sp_cent
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string, inverse=TRUE)
latlon <- data.frame(lat=pj$y, lon=pj$x)
latlon
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string, inverse=TRUE)
latlon <- data.frame(lat=pj$y, lon=pj$x)
latlon$lat
#plot(subzone)
subzone <- mpsz[mpsz$SUBZONE_N == "ADMIRALTY",]
p <- as(subzone, 'Spatial')
sp_cent <- gCentroid(p, byid = TRUE)
proj4string <- proj4string(sp_cent)
xy <- data.frame(sp_cent)
pj <- project(xy, proj4string, inverse=TRUE)
latlon <- data.frame(lat=pj$y, lon=pj$x)
latlon
#plot(subzone)
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
runApp('C:/IS415/IS415-Neighbourhood-WatchDocs')
